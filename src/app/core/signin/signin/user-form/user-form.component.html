<form [formGroup]="userForm">
  <div fxLayout="column">
  <mat-form-field appearance="outline">
      <input matInput placeholder="{{ 'AUTH.NAME' | translate }}" autocomplete="off" formControlName="name">
      <mat-error *ngIf="name.hasError('required')">
          <span translate>AUTH.NAME-REQUIRED</span>
      </mat-error>
      <mat-error *ngIf="name.hasError('pattern')">
          <span translate>AUTH.ONLY-LETTERS</span>
      </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
      <input matInput placeholder="{{ 'AUTH.EMAIL' | translate }}" autocomplete="off" formControlName="email">
      <mat-error *ngIf="email.hasError('email')">
          <span translate>AUTH.VALID-EMAIL</span>
          </mat-error>
          <mat-error *ngIf="email.hasError('required')">
            <span translate>AUTH.EMAIL-REQUIRED</span>
          </mat-error>
          <mat-error *ngIf="email.hasError('email-repeated')">
              <span translate>Email already in use</span>
          </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
      <input matInput type="password" autocomplete="off" formControlName="password" placeholder="{{ 'AUTH.PASSWORD' | translate }}">
      <mat-error *ngIf="password.hasError('pattern')">
          <span translate>AUTH.PWD-REQ</span>
      </mat-error>
          <mat-error *ngIf="password.hasError('required')">
              <span translate>AUTH.PASSWORD-REQUIRED</span>
          </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
      <input matInput type="password" #repeated formControlName="confirmPassword"
      placeholder="{{ 'AUTH.REPEAT-PWD' | translate }}" autocomplete="off">
      <mat-error *ngIf="email.hasError('pattern')">
          <span translate>AUTH.NOT-MATCH</span>
      </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Default language for the interface</mat-label>
    <mat-select matNativeControl formControlName="language">
      <mat-option value="spa"><span translate>Spanish</span></mat-option>
      <mat-option value="en"><span translate>English</span></mat-option>
    </mat-select>
      <mat-error *ngIf="language.hasError('required')">
          <span translate>Default language required</span>
      </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" *ngIf="isWithCode">
      <input matInput formControlName="code"
      placeholder="Invitation Code" autocomplete="off">
      <mat-error *ngIf="code.hasError('required')">
          <span translate>Invitation code required</span>
      </mat-error>
      <mat-error *ngIf="code.hasError('invalid-code')">
          <span translate>Invalid invitation code</span>
      </mat-error>
  </mat-form-field>

  </div>
</form>
<div align="end">
<button mat-raised-button type="submit" color="primary" [disabled]="userForm.invalid" (click)="done(userForm.value)">
  <span translate *ngIf="isWithCode; else next">AUTH.SUBMIT</span>
  <ng-template #next>
    <span translate>Next</span>
  </ng-template>
</button>
</div>

